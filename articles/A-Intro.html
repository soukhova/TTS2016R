<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="TTS2016R">
<title>Using this package • TTS2016R</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Using this package">
<meta property="og:description" content="TTS2016R">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">TTS2016R</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/A-Intro.html">Using this package</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-article">



<script src="A-Intro_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <main id="main"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Using this package</h1>
            
      
      
      <div class="d-none name"><code>A-Intro.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>This manuscript presents the open data product <a href="https://github.com/soukhova/TTS2016R" class="external-link">{TTS2016R}</a>. Open data products are the result of turning source data (open or otherwise) into accessible information that adds value to the original inputs <span class="citation">(see Arribas-Bel et al. 2021)</span>. The product presented in this paper is an <code>R</code> data package which currently consists of three objects which are sourced from the 2016 Transportation Tomorrow Survey (TTS) or are curated to facilitate the use and analysis of TTS data. This package includes person-to-jobs origin-destinations, traffic analysis zone (TAZ) boundaries, and planning/municipality boundaries for the Greater Golden Horse area (GGH) located in southern Ontario, Canada <span class="citation">(Data Management Group 2018)</span>. In addition, the package includes TAZ centroid-to-centroid travel times by car computed using package {r5r} <span class="citation">(Pereira et al. 2021)</span>. The aim of this paper is to walk readers through the empirical home-based work commute data set, illustrate the calculation of an impedance function, showcase how it can be used to calculate accessibility to employment, and invite its use in other applications.</p>
<p>Data from the TTS are in principle available to the public but are not fully open, since permission to access the data retrieval system is required. In addition, the raw data can be technically demanding, cumbersome to work with, and requires multiple software to process. By pre-processing the data in a <code>R</code> environment, {TTS2016R} offers a slice of the TTS data useful to understand patterns of commuting to work in the region. It also provides open infrastructure for additional TTS or complimentary data sets to be amended by the authors or wider open-source community in the future.</p>
</div>
<div class="section level2">
<h2 id="home-to-work-commute-data">Home-to-work commute data<a class="anchor" aria-label="anchor" href="#home-to-work-commute-data"></a>
</h2>
<p>{TTS2016R} includes counts of fully-employed population by place of residence and counts of full-time jobs by place of work aggregated by TAZ (n=3,764 within the survey boundaries). Unique identifiers use the GTA06 Zoning System of TTS. The number of jobs (3,081,885) and workers (3,446,957) are organized in the form of an origin-destination table, indicative of patterns of home-to-work commute (there are 3,446,957 potential interactions). These data were retrieved from the Transportation Tomorrow Survey Data Retrieval System on October 28, 2021 and reflect the potential interaction of full-time employed people and jobs within the GGH survey boundaries shown in Figure  as defined by the 2016 TTS methodology <span class="citation">(Data Management Group 2018)</span>.</p>
<p>Also included in {TTS2016R} are travel times and cost of travel from origin to destination by car; travel times are calculated using the <code>R</code> package {r5r}. These travel times are useful to estimate the cost of travel and to calculate impedance functions, among other possible uses. It is important to note that for simplicity, all interactions within {TTS2016R} are assumed to be taken by car, and the travel time is calculated from an origin TAZ centroid to a destination TAZ centroid. The centroid is snapped to the nearest street line by <code>r5r</code> and the travel time is calculated for all trips assuming a car travel mode. Additionally, only travel times less than or equal to 180 mins (3 hrs) are calculated; this threshold represents 99% of trip’s travel times which are summarized in the descriptive statistics in Table .</p>
<div class="figure" style="text-align: center">
<img src="images/TTS16-survey-area.png" alt="\label{fig:TTS-16-survey-area}The TTS 2016 study area within the Greater Golden Horseshoe in Ontario, Canada." width="80%"><p class="caption">
The TTS 2016 study area within the Greater Golden Horseshoe in Ontario, Canada.
</p>
</div>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#forming a complete descriptive statistic table</span>

<span class="va">Statistics</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span><span class="st">"Statistics"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Min."</span>, <span class="st">"1st Qu."</span>, <span class="st">"Median"</span>, <span class="st">"Mean"</span>, <span class="st">"3rd Qu."</span>, <span class="st">"Max."</span>, <span class="st">"NA's"</span><span class="op">)</span><span class="op">)</span>

<span class="va">Trips</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span><span class="st">"OD_Trips"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">od_ft_tt</span><span class="op">$</span><span class="va">trips</span><span class="op">)</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="op">)</span>, 
                                   <span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">od_ft_tt</span><span class="op">$</span><span class="va">trips</span><span class="op">)</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="op">)</span>,  
                                   <span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">od_ft_tt</span><span class="op">$</span><span class="va">trips</span><span class="op">)</span><span class="op">[[</span><span class="fl">3</span><span class="op">]</span><span class="op">]</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="op">)</span>, 
                                   <span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">od_ft_tt</span><span class="op">$</span><span class="va">trips</span><span class="op">)</span><span class="op">[[</span><span class="fl">4</span><span class="op">]</span><span class="op">]</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="op">)</span>, 
                                   <span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">od_ft_tt</span><span class="op">$</span><span class="va">trips</span><span class="op">)</span><span class="op">[[</span><span class="fl">5</span><span class="op">]</span><span class="op">]</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="op">)</span>,
                                   <span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">od_ft_tt</span><span class="op">$</span><span class="va">trips</span><span class="op">)</span><span class="op">[[</span><span class="fl">6</span><span class="op">]</span><span class="op">]</span><span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="op">)</span>,
                                   <span class="cn">NA</span><span class="op">)</span><span class="op">)</span>

<span class="va">Travel_time</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span><span class="st">"OD_Travel_time"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">od_ft_tt</span><span class="op">$</span><span class="va">travel_time</span><span class="op">)</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="op">)</span>, 
                                               <span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">od_ft_tt</span><span class="op">$</span><span class="va">travel_time</span><span class="op">)</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="op">)</span>,  
                                               <span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">od_ft_tt</span><span class="op">$</span><span class="va">travel_time</span><span class="op">)</span><span class="op">[[</span><span class="fl">3</span><span class="op">]</span><span class="op">]</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="op">)</span>, 
                                               <span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">od_ft_tt</span><span class="op">$</span><span class="va">travel_time</span><span class="op">)</span><span class="op">[[</span><span class="fl">4</span><span class="op">]</span><span class="op">]</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="op">)</span>, 
                                               <span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">od_ft_tt</span><span class="op">$</span><span class="va">travel_time</span><span class="op">)</span><span class="op">[[</span><span class="fl">5</span><span class="op">]</span><span class="op">]</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="op">)</span>, 
                                               <span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">od_ft_tt</span><span class="op">$</span><span class="va">travel_time</span><span class="op">)</span><span class="op">[[</span><span class="fl">6</span><span class="op">]</span><span class="op">]</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="op">)</span>,  
                                               <span class="fl">3507</span><span class="op">)</span><span class="op">)</span> 

<span class="va">TAZ_Area</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span><span class="st">"TAZ_Area"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">ggh_taz</span><span class="op">$</span><span class="va">AREA</span><span class="op">)</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="op">)</span>, 
                                      <span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">ggh_taz</span><span class="op">$</span><span class="va">AREA</span><span class="op">)</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="op">)</span>, 
                                      <span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">ggh_taz</span><span class="op">$</span><span class="va">AREA</span><span class="op">)</span><span class="op">[[</span><span class="fl">3</span><span class="op">]</span><span class="op">]</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="op">)</span>, 
                                      <span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">ggh_taz</span><span class="op">$</span><span class="va">AREA</span><span class="op">)</span><span class="op">[[</span><span class="fl">4</span><span class="op">]</span><span class="op">]</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="op">)</span>, 
                                      <span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">ggh_taz</span><span class="op">$</span><span class="va">AREA</span><span class="op">)</span><span class="op">[[</span><span class="fl">5</span><span class="op">]</span><span class="op">]</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="op">)</span>, 
                                      <span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">ggh_taz</span><span class="op">$</span><span class="va">AREA</span><span class="op">)</span><span class="op">[[</span><span class="fl">6</span><span class="op">]</span><span class="op">]</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="op">)</span>, 
                                      <span class="cn">NA</span><span class="op">)</span><span class="op">)</span>

<span class="va">Workers</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span><span class="st">"Workers"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">ggh_taz</span><span class="op">$</span><span class="va">workers</span><span class="op">)</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="op">)</span>, 
                                    <span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">ggh_taz</span><span class="op">$</span><span class="va">workers</span><span class="op">)</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="op">)</span>, 
                                    <span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">ggh_taz</span><span class="op">$</span><span class="va">workers</span><span class="op">)</span><span class="op">[[</span><span class="fl">3</span><span class="op">]</span><span class="op">]</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="op">)</span>, 
                                    <span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">ggh_taz</span><span class="op">$</span><span class="va">workers</span><span class="op">)</span><span class="op">[[</span><span class="fl">4</span><span class="op">]</span><span class="op">]</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="op">)</span>, 
                                    <span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">ggh_taz</span><span class="op">$</span><span class="va">workers</span><span class="op">)</span><span class="op">[[</span><span class="fl">5</span><span class="op">]</span><span class="op">]</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="op">)</span>, 
                                    <span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">ggh_taz</span><span class="op">$</span><span class="va">workers</span><span class="op">)</span><span class="op">[[</span><span class="fl">6</span><span class="op">]</span><span class="op">]</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="op">)</span>, 
                                    <span class="cn">NA</span><span class="op">)</span><span class="op">)</span>

<span class="va">Jobs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span><span class="st">"Jobs"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">ggh_taz</span><span class="op">$</span><span class="va">jobs</span><span class="op">)</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="op">)</span>, 
                              <span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">ggh_taz</span><span class="op">$</span><span class="va">jobs</span><span class="op">)</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="op">)</span>, 
                              <span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">ggh_taz</span><span class="op">$</span><span class="va">jobs</span><span class="op">)</span><span class="op">[[</span><span class="fl">3</span><span class="op">]</span><span class="op">]</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="op">)</span>, 
                              <span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">ggh_taz</span><span class="op">$</span><span class="va">jobs</span><span class="op">)</span><span class="op">[[</span><span class="fl">4</span><span class="op">]</span><span class="op">]</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="op">)</span>, 
                              <span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">ggh_taz</span><span class="op">$</span><span class="va">jobs</span><span class="op">)</span><span class="op">[[</span><span class="fl">5</span><span class="op">]</span><span class="op">]</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="op">)</span>, 
                              <span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">ggh_taz</span><span class="op">$</span><span class="va">jobs</span><span class="op">)</span><span class="op">[[</span><span class="fl">6</span><span class="op">]</span><span class="op">]</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="op">)</span>, 
                              <span class="cn">NA</span><span class="op">)</span><span class="op">)</span> 

<span class="va">desc_stats</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="va">Statistics</span>, <span class="va">Trips</span>, <span class="va">Travel_time</span>, <span class="va">TAZ_Area</span>, <span class="va">Workers</span>, <span class="va">Jobs</span><span class="op">)</span>

<span class="co">#kable tabling </span>
<span class="va">desc_stats</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span>format <span class="op">=</span> <span class="st">"latex"</span>,
        align<span class="op">=</span><span class="st">"lrrrrrr"</span>,
        booktabs <span class="op">=</span> <span class="cn">T</span>,
        col.names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">" "</span>, <span class="st">"(#)"</span>, <span class="st">"(min)"</span>, <span class="st">"(km^2)"</span>, <span class="st">"(#)"</span>, <span class="st">"(#)"</span><span class="op">)</span>,
        caption <span class="op">=</span> <span class="st">"\\label{tab:TTS-16-desc-stats}Descriptive statistics of the trips, workers, and jobs for the traffic analysis zones (TAZ) from the TTS 2016 dataset along with estimated car origin-destination travel times."</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://rdrr.io/pkg/kableExtra/man/add_header_above.html" class="external-link">add_header_above</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">" "</span>, <span class="st">"Trips"</span>, <span class="st">"Car Travel Time"</span>, <span class="st">"Area"</span>, <span class="st">"Workers"</span>, <span class="st">"Jobs"</span><span class="op">)</span>, align <span class="op">=</span> <span class="st">"r"</span><span class="op">)</span><span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://rdrr.io/pkg/kableExtra/man/kable_styling.html" class="external-link">kable_styling</a></span><span class="op">(</span>full_width <span class="op">=</span> <span class="st">"T"</span>, 
                latex_options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"scale_down"</span><span class="op">)</span>,
                position <span class="op">=</span> <span class="st">"center"</span><span class="op">)</span></code></pre></div>

<div class="section level3">
<h3 id="employed-individuals-and-jobs">Employed individuals and jobs<a class="anchor" aria-label="anchor" href="#employed-individuals-and-jobs"></a>
</h3>
<p>The origin-destination information consists of a cross-tabulation of people who are employed full-time by place of residence (origin) and places of employment in the GGH (destination) using the GTA06 zoning system. The number of workers and jobs is not equal; the boundaries of the survey are permeable, so workers who reside within the boundaries but travel outside of the boundaries are counted as workers within an origin TAZ, while jobs in TAZ that are filled by workers who reside outside the GGH boundaries are <em>unknown</em> since they were not surveyed. This mismatch results in the total number of workers being 1.12 times larger than the number of jobs (i.e., 3,446,957 workers to 3,081,885 jobs). While the 2016 TTS survey boundaries are drawn to minimize the difference between opportunities at the destination and supply at the origins they are still not equal <!-- cite? is this true ? -->. That said, these data offer a perspective of the potential of home-based trips to places of employment and as such, the number of trips taken are equal to the number of workers in the GGH.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="va">tts_workers</span> <span class="op">&lt;-</span> <span class="fu">tm_shape</span><span class="op">(</span><span class="va">ggh_taz</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">tm_fill</span><span class="op">(</span>col <span class="op">=</span> <span class="st">"workers"</span>, title <span class="op">=</span> <span class="st">"Full-time employed people"</span>, palette <span class="op">=</span> <span class="st">"-Spectral"</span>, style <span class="op">=</span> <span class="st">"jenks"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">tm_compass</span><span class="op">(</span>type <span class="op">=</span> <span class="st">"arrow"</span>, position <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"left"</span>, <span class="st">"top"</span><span class="op">)</span>, size <span class="op">=</span> <span class="fl">2</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">tm_scale_bar</span><span class="op">(</span>breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">30</span>, <span class="fl">60</span><span class="op">)</span>, text.size <span class="op">=</span> <span class="fl">0.5</span>, position <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"left"</span>, <span class="st">"bottom"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">tm_layout</span><span class="op">(</span>legend.position <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"right"</span>, <span class="st">"bottom"</span><span class="op">)</span><span class="op">)</span>

<span class="va">tts_jobs</span> <span class="op">&lt;-</span> <span class="fu">tm_shape</span><span class="op">(</span><span class="va">ggh_taz</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">tm_fill</span><span class="op">(</span>col <span class="op">=</span> <span class="st">"jobs"</span>, title <span class="op">=</span> <span class="st">"Full-time jobs"</span>, palette <span class="op">=</span> <span class="st">"-Spectral"</span>, style <span class="op">=</span> <span class="st">"jenks"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">tm_compass</span><span class="op">(</span>type <span class="op">=</span> <span class="st">"arrow"</span>, position <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"left"</span>, <span class="st">"top"</span><span class="op">)</span>, size <span class="op">=</span> <span class="fl">2</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">tm_scale_bar</span><span class="op">(</span>breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">30</span>, <span class="fl">60</span><span class="op">)</span>, text.size <span class="op">=</span> <span class="fl">0.5</span>, position <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"left"</span>, <span class="st">"bottom"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">tm_layout</span><span class="op">(</span>legend.position <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"right"</span>, <span class="st">"bottom"</span><span class="op">)</span><span class="op">)</span>

<span class="fu">tmap_arrange</span><span class="op">(</span><span class="va">tts_workers</span>, <span class="va">tts_jobs</span><span class="op">)</span></code></pre></div>
<div class="figure">
<img src="A-Intro_files/figure-html/tts-workers-jobs-plot-1.png" alt="\label{fig:tts-workers-jobs-plot}Number of workers (top) and jobs (bottom) in each TAZ in the GGH area as specified in the 2016 TTS." width="768"><p class="caption">
Number of workers (top) and jobs (bottom) in each TAZ in the GGH area as specified in the 2016 TTS.
</p>
</div>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="va">Number</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="va">ggh_taz</span><span class="op">$</span><span class="va">jobs</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span><span class="op">)</span>,
                 <span class="va">ggh_taz</span><span class="op">$</span><span class="va">workers</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span>
<span class="va">Group</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"Jobs"</span>, each<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">ggh_taz</span><span class="op">$</span><span class="va">jobs</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span><span class="op">)</span>,
                <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"Workers"</span>, each<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">ggh_taz</span><span class="op">$</span><span class="va">workers</span><span class="op">)</span><span class="op">)</span><span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span>

<span class="va">ecdf_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="va">Number</span>, <span class="va">Group</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">ecdf_data</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Number"</span>, <span class="st">"Group"</span><span class="op">)</span>

<span class="va">rect1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>xmin<span class="op">=</span><span class="fl">115</span>, xmax<span class="op">=</span><span class="fl">3055</span>, ymin<span class="op">=</span><span class="op">-</span><span class="cn">Inf</span>, ymax<span class="op">=</span><span class="cn">Inf</span><span class="op">)</span>
  
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">ecdf_data</span> , <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">Number</span>, col<span class="op">=</span><span class="va">Group</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> 
  <span class="co"># geom_segment(aes(x = 115, y = 0, xend = 115, yend = 0.34), col = "blue", linetype=2) +</span>
  <span class="co"># geom_segment(aes(x = 3055, y = 0, xend = 3055, yend = 0.94), col = "blue", linetype=2) +</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_tile.html" class="external-link">geom_rect</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">rect1</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>xmin<span class="op">=</span><span class="va">xmin</span>, xmax<span class="op">=</span><span class="va">xmax</span>, ymin<span class="op">=</span><span class="va">ymin</span>, ymax<span class="op">=</span><span class="va">ymax</span><span class="op">)</span>, fill<span class="op">=</span><span class="st">"lightblue"</span>, alpha<span class="op">=</span><span class="fl">0.2</span>, inherit.aes <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/stat_ecdf.html" class="external-link">stat_ecdf</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html" class="external-link">scale_x_continuous</a></span><span class="op">(</span>trans<span class="op">=</span><span class="st">'sqrt'</span>, breaks<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">115</span>, <span class="fl">3055</span>, <span class="fl">10000</span>, <span class="fl">20000</span>, <span class="fl">30000</span>, <span class="fl">40000</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html" class="external-link">scale_y_continuous</a></span><span class="op">(</span>breaks<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0.25</span>,<span class="fl">0.34</span>, <span class="fl">.50</span>, <span class="fl">.75</span>,<span class="fl">0.94</span>, <span class="fl">1.00</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"Opportunities per TAZ"</span>,
       y <span class="op">=</span> <span class="st">"Cumulative probability"</span><span class="op">)</span> <span class="op">+</span> 
      <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html" class="external-link">scale_color_manual</a></span><span class="op">(</span><span class="st">"Opportunities"</span>, 
                         values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Jobs"</span> <span class="op">=</span> <span class="st">"Black"</span>,
                                    <span class="st">"Workers"</span> <span class="op">=</span> <span class="st">"Red"</span><span class="op">)</span><span class="op">)</span><span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html" class="external-link">scale_linetype_manual</a></span><span class="op">(</span><span class="st">"Opportunities"</span>,values<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">1</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fl">115</span>, y <span class="op">=</span> <span class="fl">0.34</span><span class="op">)</span>, col <span class="op">=</span> <span class="st">"blue"</span><span class="op">)</span><span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="fl">3055</span>, y<span class="op">=</span><span class="fl">0.94</span><span class="op">)</span>, col <span class="op">=</span> <span class="st">"blue"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_minimal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>plot.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>hjust<span class="op">=</span><span class="fl">0.5</span><span class="op">)</span>,
        legend.position <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.90</span>,<span class="fl">0.75</span><span class="op">)</span>,
        axis.line <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_line</a></span><span class="op">(</span>colour <span class="op">=</span> <span class="st">"black"</span><span class="op">)</span>,
        panel.border <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_blank</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> </code></pre></div>
<div class="figure">
<img src="A-Intro_files/figure-html/ECD-plot-1.png" alt="\label{fig:ECD-plot}The cumulative distribution of the number of jobs and workers per TAZ from the 2016 TTS data set. Light blue shaded ranges correspond to all cumulative proabilities where the number of workers per TAZ are larger than jobs per TAZ. " width="700"><p class="caption">
The cumulative distribution of the number of jobs and workers per TAZ from the 2016 TTS data set. Light blue shaded ranges correspond to all cumulative proabilities where the number of workers per TAZ are larger than jobs per TAZ.
</p>
</div>
<p>Figure  presents the number of workers and jobs per TAZ. It can be observed that the spatial distribution of jobs and workers is unequal, which is indicative of jobs-housing imbalance, which can impact accessibility in a region <span class="citation">(Levine 1998)</span>. Workers are concentrated in TAZ within the center of the GGH and along the south-east and northern boarder of the GGH. The center of the GGH corresponds to the Greater Toronto Area (GTA) which is the most densely populated area in southern Ontario <span class="citation">(Statistics Canada 2022)</span>. The south east border of the GGH neighbours Lake Ontario and is delineated by the urban built boundary of the Ontario Growth Plan being home to the highest density of working population in the GGH <span class="citation">(Ontario 2019; Auditor General of Ontario 2021)</span>. The northern GGH border corresponds to the Simcoe, Dufferin, Kawartha Lake, and Peterborough regions which are home to lower density of worker population density population <span class="citation">(Auditor General of Ontario 2021)</span>. Conversely, the spread of jobs in the GGH is lower than the number of workers indicating population is more spatially dispersed than jobs.</p>
<p>It can also be seen that from the bottom plot in Figure  that high to medium-low concentrations of jobs are often present in the same areas as workers but only when the scale is transformed. In other words, though there is a higher number of TAZ with no workers than zones with no jobs (i.e., 791 TAZ with no workers : 396 TAZ with no jobs) and the mean of workers per TAZ is higher than the mean of jobs (i.e., 916 workers : 819 jobs) the number TAZ with an extreme number of jobs at the highest and lowest percentiles is significantly higher than the number of workers; see the following cumulative probability distribution in Figure  in which the 94th to 100th percentile and the 0th to 34th percentile of jobs in TAZ is higher than the number of workers in TAZ. This means that between these ranges, TAZ have a higher number of workers than they do jobs, echoing the more even spatial distribution of workers observed in Figure .</p>
<div style="page-break-after: always;"></div>
</div>
<div class="section level3">
<h3 id="calculated-travel-time">Calculated travel time<a class="anchor" aria-label="anchor" href="#calculated-travel-time"></a>
</h3>
<p>{TTS2016R} also includes travel time data for each home-to-work trip as displayed in Figure . This travel time corresponds to a car commute calculated using the R package {r5r} and is interpreted as the travel time for a work commute for full-time employed people in the GGH. The travel times were calculated assuming the following input parameters: a maximum travel time less than or equal to 180 mins (3 hrs) and a street network retrieved from OpenStreetMaps for the GGH area. The 3 hr threshold was selected as it captures 99% of the trip taken (see the travel times summarized in Table ).</p>
<p>It is important to note that all travel times within this data set are calculated assuming car travel and one departure time for all origins. These assumptions are not completely realistic since we know a small proportion of trips are taken by non-car modes and travel time departures varies, however, it is not possible from the data retrieval system to obtain higher order tabulations that would allow us to split the data further. Thus we do not know which trips are made with non-car modes nor exact departure times in these tables. Though modal split and travel times can be estimated through other methods <span class="citation">(e.g., Allen and Farber 2021; Higgins et al. 2021)</span>, for simplicity, we assume that all trips are taken by one-time departure car trip.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># remove all NA trips from dataset and set all 0min travel times to 0.1 min</span>
<span class="va">od_ft_tt</span>  <span class="op">&lt;-</span> <span class="fu">TTS2016R</span><span class="fu">::</span><span class="va"><a href="../reference/od_ft_tt.html">od_ft_tt</a></span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html" class="external-link">filter</a></span><span class="op">(</span> <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">travel_time</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> 
  <span class="fu">mutate</span><span class="op">(</span>travel_time <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">travel_time</span> <span class="op">==</span> <span class="fl">0</span>, <span class="fl">0.1</span>, <span class="va">travel_time</span><span class="op">)</span><span class="op">)</span>

<span class="va">all_tt</span> <span class="op">&lt;-</span> <span class="va">od_ft_tt</span>  <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> 
  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">trips</span>, <span class="va">travel_time</span><span class="op">)</span>

<span class="va">all_tt</span> <span class="op">&lt;-</span> <span class="va">all_tt</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_len</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/dim.html" class="external-link">dim</a></span><span class="op">(</span><span class="va">all_tt</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span>, <span class="va">all_tt</span><span class="op">$</span><span class="va">trips</span><span class="op">)</span>, <span class="fl">2</span><span class="op">]</span></code></pre></div>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#fitting impedance function</span>
<span class="va">gamma_</span> <span class="op">&lt;-</span> <span class="fu">fitdistrplus</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/fitdistrplus/man/fitdist.html" class="external-link">fitdist</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">all_tt</span>, <span class="st">"gamma"</span>, method<span class="op">=</span><span class="st">"mle"</span>, optim.method<span class="op">=</span><span class="st">"Nelder-Mead"</span><span class="op">)</span> </code></pre></div>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># transfer calibrated impedance function values to OD matrix</span>
<span class="va">od_ft_tt</span> <span class="op">&lt;-</span> <span class="va">od_ft_tt</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu">mutate</span><span class="op">(</span>f <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/GammaDist.html" class="external-link">dgamma</a></span><span class="op">(</span><span class="va">travel_time</span>, <span class="va">gamma_</span><span class="op">$</span><span class="va">estimate</span><span class="op">[</span><span class="st">"shape"</span><span class="op">]</span>, <span class="va">gamma_</span><span class="op">$</span><span class="va">estimate</span><span class="op">[</span><span class="st">"rate"</span><span class="op">]</span><span class="op">)</span><span class="op">)</span>

<span class="co">#add the number of jobs and workers to the od_ft_tt matrix</span>
<span class="va">od_ft</span> <span class="op">&lt;-</span> <span class="va">od_ft_tt</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/merge.html" class="external-link">merge</a></span><span class="op">(</span><span class="va">ggh_taz</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">GTA06</span>, <span class="va">workers</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_geometry.html" class="external-link">st_drop_geometry</a></span><span class="op">(</span><span class="op">)</span>,
                   by.x <span class="op">=</span> <span class="st">"Origin"</span>, by.y<span class="op">=</span><span class="st">"GTA06"</span>, all.x <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>

<span class="va">od_ft</span> <span class="op">&lt;-</span> <span class="va">od_ft</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/merge.html" class="external-link">merge</a></span><span class="op">(</span><span class="va">ggh_taz</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">GTA06</span>, <span class="va">jobs</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_geometry.html" class="external-link">st_drop_geometry</a></span><span class="op">(</span><span class="op">)</span>,
                   by.x <span class="op">=</span> <span class="st">"Destination"</span>, by.y<span class="op">=</span><span class="st">"GTA06"</span>, all.x <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>


<span class="co">#calculate accessibility for workers from any origin to jobs in Toronto </span>
<span class="va">GGH_c_accessibility</span> <span class="op">&lt;-</span> <span class="va">od_ft</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> 
  <span class="fu">mutate</span><span class="op">(</span>GGH_A_ij <span class="op">=</span> <span class="va">f</span> <span class="op">*</span> <span class="va">jobs</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu">group_by</span><span class="op">(</span><span class="va">Origin</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://r-spatial.github.io/sf/reference/tidyverse.html" class="external-link">summarise</a></span><span class="op">(</span>GGH_A_i <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">GGH_A_ij</span>, na.rm <span class="op">=</span> <span class="cn">T</span><span class="op">)</span>,
            GGH_sum_tt_i <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">travel_time</span><span class="op">)</span>,
            GGH_tt_trips_i <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">travel_time</span><span class="op">)</span>,
            GGH_sum_f_i <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">f</span><span class="op">)</span>,
            GGH_f_trips_i <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">f</span><span class="op">)</span><span class="op">)</span>

<span class="co">#Merge TO accessibly calculation to the ggh_taz:</span>
<span class="va">GGH_taz_acc</span> <span class="op">&lt;-</span> <span class="va">ggh_taz</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/merge.html" class="external-link">merge</a></span><span class="op">(</span><span class="va">GGH_c_accessibility</span>, by.x<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"GTA06"</span><span class="op">)</span>, by.y<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Origin"</span><span class="op">)</span>, all.x<span class="op">=</span><span class="cn">T</span><span class="op">)</span> </code></pre></div>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="va">tts_total_tt</span> <span class="op">&lt;-</span> <span class="fu">tm_shape</span><span class="op">(</span><span class="va">GGH_taz_acc</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">tm_fill</span><span class="op">(</span>col <span class="op">=</span> <span class="st">"GGH_sum_tt_i"</span>, title <span class="op">=</span> <span class="st">"Total travel time\n per TAZ (min)"</span>, palette <span class="op">=</span> <span class="st">"-Spectral"</span>, style <span class="op">=</span> <span class="st">"jenks"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">tm_compass</span><span class="op">(</span>type <span class="op">=</span> <span class="st">"arrow"</span>, position <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"left"</span>, <span class="st">"top"</span><span class="op">)</span>, size <span class="op">=</span> <span class="fl">2</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">tm_scale_bar</span><span class="op">(</span>breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">30</span>, <span class="fl">60</span><span class="op">)</span>, text.size <span class="op">=</span> <span class="fl">0.5</span>, position <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"left"</span>, <span class="st">"bottom"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">tm_layout</span><span class="op">(</span>legend.position <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"right"</span>, <span class="st">"bottom"</span><span class="op">)</span><span class="op">)</span>

<span class="va">tts_tt_per_trip</span> <span class="op">&lt;-</span> <span class="fu">tm_shape</span><span class="op">(</span><span class="va">GGH_taz_acc</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">tm_fill</span><span class="op">(</span>col <span class="op">=</span> <span class="st">"GGH_tt_trips_i"</span>, title <span class="op">=</span> <span class="st">"Avg. travel time\n per TAZ (min)"</span>, palette <span class="op">=</span> <span class="st">"-Spectral"</span>, style <span class="op">=</span> <span class="st">"jenks"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">tm_compass</span><span class="op">(</span>type <span class="op">=</span> <span class="st">"arrow"</span>, position <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"left"</span>, <span class="st">"top"</span><span class="op">)</span>, size <span class="op">=</span> <span class="fl">2</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">tm_scale_bar</span><span class="op">(</span>breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">30</span>, <span class="fl">60</span><span class="op">)</span>, text.size <span class="op">=</span> <span class="fl">0.5</span>, position <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"left"</span>, <span class="st">"bottom"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">tm_layout</span><span class="op">(</span>legend.position <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"right"</span>, <span class="st">"bottom"</span><span class="op">)</span><span class="op">)</span>

<span class="fu">tmap_arrange</span><span class="op">(</span><span class="va">tts_total_tt</span>, <span class="va">tts_tt_per_trip</span><span class="op">)</span></code></pre></div>
<div class="figure">
<img src="A-Intro_files/figure-html/plot-tt-ttpertrip-1.png" alt="\label{fig:plot-tt-ttpertrip}Estimated total worker travel time (top) and average worker travel time (bottom) for each TAZ in the GGH." width="768"><p class="caption">
Estimated total worker travel time (top) and average worker travel time (bottom) for each TAZ in the GGH.
</p>
</div>
<div style="page-break-after: always;"></div>
<p>As can be observed in Figure , the total travel time (min) resembles the spatial trend distribution in the number of employed people in the previous plot (Figure ). However, when the average travel time per trip in each TAZ is presented, the spatial distribution is distinct from all other plots presented so far. We can see that in areas around the south-eastern border that make up the Greater Toronto and Hamilton Area (GTHA) (e.g., Hamilton, Halton, Peel, Toronto, York, Durham) and Niagara and Waterloo, the average travel times are moderately low. Further from these areas, travel times are higher. Interestingly, even in eastern areas (e.g., Peterborough) with high employment and high job concentration, average travel time is higher than within the GTHA.</p>
</div>
<div class="section level3">
<h3 id="calibrating-an-impedance-function">Calibrating an impedance function<a class="anchor" aria-label="anchor" href="#calibrating-an-impedance-function"></a>
</h3>
<p>Impedance functions are useful to understand mobility behavior and are part, for instance, of gravity models of spatial interaction <span class="citation">(Wilson 1971; Haynes and Fotheringham 1985)</span> and accessibility analysis in many applications <span class="citation">(Hansen 1959; Levinson 1998; Talen and Anselin 1998; Reggiani, Bucci, and Russo 2011; Páez et al. 2013; Kuai and Zhao 2017; Barboza et al. 2021)</span>. An origin destination matrix and a cost matrix (i.e., with travel times) can be used in combination to estimate impedance functions. An impedance function <span class="math inline">\(f(\cdot)\)</span> depends on the cost of travel between locations <span class="math inline">\(i\)</span> and <span class="math inline">\(j\)</span> <span class="math inline">\(c_{ij}\)</span>; it usually is a monotonically decreasing function, although sometimes the function can increase to reflect patterns of separation between activities; for instance, separation of land uses means that very short commuting trips are relatively rare. There can be sometimes also fluctuations due to hierarchical patterns, where travelers bypass opportunities in favor of more distant destinations that offer economies of agglomeration.</p>
<p>A useful technique to calibrate an impedance function is to use the trip length distribution (TLD) as measured from origin-destination data <span class="citation">(Horbachov and Svichynskyi 2018; Batista, Leclercq, and Geroliminis 2019)</span>. The TLD is the representation of the likelihood that a proportion of trips are taken at a specific travel cost. In our data set, where we assume cost is travel time, the impedance function maps low travel times to higher proportions of trips, and high travel times are mapped to low proportion of trips.</p>
<p>In the GGH data presented, the empirical TLD (i.e., proportion of trips taken vs. travel time in minutes) is fitted to a density distribution using maximum likelihood techniques and the Nelder-Mead method for direct optimization available within the <code>fitdistrplus</code> package <span class="citation">(Delignette-Muller and Dutang 2015)</span>. Based on goodness-of-fit criteria and diagnostics seen in Figure  and Figure , the gamma distribution is selected for the presented data.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/include_graphics.html" class="external-link">include_graphics</a></span><span class="op">(</span><span class="st">"images/impedance_function.png"</span><span class="op">)</span></code></pre></div>
<div class="figure">
<img src="images/impedance_function.png" alt="\label{fig:TLD-Gamma-plot}Empirical TTS 2016 home-based car trip length distribution (black) and calibrated gamma distribution impedance function (red) with associated Q-Q and P-P plots" width="240"><p class="caption">
Empirical TTS 2016 home-based car trip length distribution (black) and calibrated gamma distribution impedance function (red) with associated Q-Q and P-P plots
</p>
</div>
<p>The resulting calibrated impedance function is given in the following general form where the estimated ‘shape’ is <span class="math inline">\(\alpha\)</span> = 2.019, the estimated ‘rate’ is <span class="math inline">\(\beta\)</span> = 0.094 , and <span class="math inline">\(\Gamma(\alpha)\)</span> is defined in Equation ().</p>
<p><span class="math display">\[\begin{equation}
\label{gamma-dist}
\begin{array}{l}\ 
f(x, \alpha, \beta) = \frac {x^{\alpha-1}e^{-\frac{x}{\beta}}}{ \beta^{\alpha}\Gamma(\alpha)} \quad \text{for } 0 \leq x \leq \infty\\
\Gamma(\alpha) =  \int_{0}^{\infty} x^{\alpha-1}e^{-x} \,dx\\
\end{array}
\end{equation}\]</span></p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># remove all NA trips from dataset and set all 0min travel times to 0.1min</span>
<span class="va">od_ft_tt</span>  <span class="op">&lt;-</span> <span class="va">od_ft_tt</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/stats/filter.html" class="external-link">filter</a></span><span class="op">(</span> <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">travel_time</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu">mutate</span><span class="op">(</span>travel_time <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">travel_time</span> <span class="op">==</span> <span class="fl">0</span>, <span class="fl">0.1</span>, <span class="va">travel_time</span><span class="op">)</span><span class="op">)</span>
<span class="va">all_tt</span> <span class="op">&lt;-</span> <span class="va">od_ft_tt</span>  <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">trips</span>, <span class="va">travel_time</span><span class="op">)</span>
<span class="va">all_tt</span> <span class="op">&lt;-</span> <span class="va">all_tt</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_len</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/dim.html" class="external-link">dim</a></span><span class="op">(</span><span class="va">all_tt</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span>, <span class="va">all_tt</span><span class="op">$</span><span class="va">trips</span><span class="op">)</span>, <span class="fl">2</span><span class="op">]</span></code></pre></div>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">fitdistrplus</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/fitdistrplus/man/descdist.html" class="external-link">descdist</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">all_tt</span><span class="op">)</span> </code></pre></div>
<div class="figure">
<img src="A-Intro_files/figure-html/plot-cullen-frey-1.png" alt="\label{fig:plot-cullen-frey}Cullen and frey graphy for the 2016 TTS calculated travel times." width="700"><p class="caption">
Cullen and frey graphy for the 2016 TTS calculated travel times.
</p>
</div>
<pre><code><span class="co">#&gt; summary statistics</span>
<span class="co">#&gt; ------</span>
<span class="co">#&gt; min:  0.1   max:  179 </span>
<span class="co">#&gt; median:  18 </span>
<span class="co">#&gt; mean:  21.4344 </span>
<span class="co">#&gt; estimated sd:  14.61254 </span>
<span class="co">#&gt; estimated skewness:  1.703326 </span>
<span class="co">#&gt; estimated kurtosis:  8.353363</span></code></pre>
</div>
</div>
<div class="section level2">
<h2 id="accessibility-to-employment">Accessibility to employment<a class="anchor" aria-label="anchor" href="#accessibility-to-employment"></a>
</h2>
<p>As noted above, impedance functions are an essential component of accessibility analysis. Equation () shows that accessibility <span class="math inline">\(A_i\)</span> is the weighted sum of opportunities that can be reached from location <span class="math inline">\(i\)</span>, given the cost of travel <span class="math inline">\(c_{ij}\)</span>. Summing the opportunities in the neighborhood of <span class="math inline">\(i\)</span> as defined by the impedance function <span class="math inline">\(f(\cdot)\)</span>, provides estimates of the number of opportunities that can be reached from <span class="math inline">\(i\)</span> at a certain cost.</p>
<p><span class="math display">\[\begin{equation}
\label{eq:conventional-accessibility}
A_i = \sum_{j=1}^JO_jf(c_{ij})
\end{equation}\]</span></p>
<p>where:</p>
<ul>
<li>
<span class="math inline">\(A\)</span> is accessibility.</li>
<li>
<span class="math inline">\(i\)</span> is a set of origin locations.</li>
<li>
<span class="math inline">\(j\)</span> is a set of destination locations.</li>
<li>
<span class="math inline">\(O_j\)</span> is the number of opportunities at location <span class="math inline">\(j\)</span>. These are opportunities for activity and add some sort of <em>supply</em> to the area;</li>
<li>
<span class="math inline">\(c_{ij}\)</span> is a measure of the cost of moving between <span class="math inline">\(i\)</span> and <span class="math inline">\(j\)</span>
</li>
<li>
<span class="math inline">\(f(\cdot)\)</span> is an impedance function of <span class="math inline">\(c_{ij}\)</span>.</li>
</ul>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">GGH_taz_acc</span> <span class="op">&lt;-</span> <span class="va">GGH_taz_acc</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu">mutate</span><span class="op">(</span>avg_A_per_W <span class="op">=</span> <span class="va">GGH_A_i</span><span class="op">/</span><span class="va">workers</span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">## accessibility</span>
<span class="va">access_TTS_GGH</span> <span class="op">&lt;-</span> <span class="fu">tm_shape</span><span class="op">(</span><span class="va">GGH_taz_acc</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">tm_fill</span><span class="op">(</span>col <span class="op">=</span> <span class="st">"GGH_A_i"</span>, title <span class="op">=</span> <span class="st">"Accessibility \n(A_i)"</span>, palette <span class="op">=</span> <span class="st">"-Spectral"</span>, style <span class="op">=</span> <span class="st">"jenks"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">tm_compass</span><span class="op">(</span>type <span class="op">=</span> <span class="st">"arrow"</span>, position <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"left"</span>, <span class="st">"top"</span><span class="op">)</span>, size <span class="op">=</span> <span class="fl">2</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">tm_scale_bar</span><span class="op">(</span>breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">30</span>, <span class="fl">60</span><span class="op">)</span>, text.size <span class="op">=</span> <span class="fl">0.5</span>, position <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"left"</span>, <span class="st">"bottom"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">tm_layout</span><span class="op">(</span>legend.position <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"right"</span>, <span class="st">"bottom"</span><span class="op">)</span><span class="op">)</span>

<span class="va">access_normalized_TTS_GGH</span> <span class="op">&lt;-</span> <span class="fu">tm_shape</span><span class="op">(</span><span class="va">GGH_taz_acc</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">tm_fill</span><span class="op">(</span>col <span class="op">=</span> <span class="st">"avg_A_per_W"</span>, title <span class="op">=</span> <span class="st">"Average accessibility \nper worker"</span>, palette <span class="op">=</span> <span class="st">"-Spectral"</span>, style <span class="op">=</span> <span class="st">"jenks"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">tm_compass</span><span class="op">(</span>type <span class="op">=</span> <span class="st">"arrow"</span>, position <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"left"</span>, <span class="st">"top"</span><span class="op">)</span>, size <span class="op">=</span> <span class="fl">2</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">tm_scale_bar</span><span class="op">(</span>breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">30</span>, <span class="fl">60</span><span class="op">)</span>, text.size <span class="op">=</span> <span class="fl">0.5</span>, position <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"left"</span>, <span class="st">"bottom"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">tm_layout</span><span class="op">(</span>legend.position <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"right"</span>, <span class="st">"bottom"</span><span class="op">)</span><span class="op">)</span>

<span class="fu">tmap_arrange</span><span class="op">(</span><span class="va">access_TTS_GGH</span>, <span class="va">access_normalized_TTS_GGH</span><span class="op">)</span></code></pre></div>
<div class="figure">
<img src="A-Intro_files/figure-html/plot-access-SA-GGH-TTS-1.png" alt="\label{fig:plot-access-SA-GGH-TTS}Accessibility (top) and normalized accessibility (bottom) to employment in the GGH area" width="768"><p class="caption">
Accessibility (top) and normalized accessibility (bottom) to employment in the GGH area
</p>
</div>
<div style="page-break-after: always;"></div>
<p>Accessibility is a property of the origin (i.e., origin TAZ in our data), the landscape of opportunities (i.e., the TAZ destinations in our data), and transportation infrastructure (i.e., the travel time table). Figure  presents the accessibility estimates that result from the impedance function calibrated in the preceding section. The top plot, that of the raw accessibility values, presents a distinct radial trend where the majority of TAZ in and around Toronto have high accessibility values and values gradually decrease in TAZ which are further from Toronto’s boundary. Alternatively, the bottom plot in Figure  present the worker-normalized accessibility values. In other words, the accessibility value for each TAZ is divided by the number of workers in each TAZ. The patterns in this plot are similar to the Greater Toronto Area radial trend observed in the top plot but are less extreme (i.e., smaller spread).</p>
<!-- room to critique accessibility or suggestion how we need alternatives to comprehend this measure..? -->
</div>
<div class="section level2">
<h2 id="concluding-remarks">Concluding remarks<a class="anchor" aria-label="anchor" href="#concluding-remarks"></a>
</h2>
<p>The open data product introduced in this paper shares tables for worker-to-employment data from the 2016 TTS aggregated by TAZ. In addition, inter-centroid travel time tables are calculated, and the planning/municipality boundaries are included to compliment the 2016 TTS data. This open data product, {TTS2016R}, is freely available to explore in an <code>R</code> environment. One possible use of these data, as showcased in this paper, is the calibration of impedance functions which in turn can be used for accessibility analysis.</p>
<p>New digital formats are increasingly complex and the explanation of the methods often do not concisely and intelligibly fit within the confines of a traditional article. With this motivation, we invite all who are interested to use {TTS2016R} to explore the worker-employment patterns contained in the {TTS2016R} package. In the spirit of novel and original research, we hope readers value the efforts made to detail the data in order to improve transparency in our work and encourage others to replicate and, hopefully, inspire research of their own. We see this product as providing open infrastructure for additional TTS or complimentary data sets to be amended by the authors or wider open-source community in the future.</p>
<div style="page-break-after: always;"></div>
</div>
<div class="section level2">
<h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<div id="refs" class="references">
<div id="ref-allen_suburbanization_2021">
<p>Allen, Jeff, and Steven Farber. 2021. “Suburbanization of Transport Poverty.” <em>Annals of the American Association of Geographers</em> 111 (6): 18.</p>
</div>
<div id="ref-Arribas2021open">
<p>Arribas-Bel, Dani, Mark Green, Francisco Rowe, and Alex Singleton. 2021. “Open Data Products-a Framework for Creating Valuable Analysis Ready Data.” Journal Article. <em>Journal of Geographical Systems</em> 23 (4): 497–514. <a href="https://doi.org/10.1007/s10109-021-00363-5" class="external-link">https://doi.org/10.1007/s10109-021-00363-5</a>.</p>
</div>
<div id="ref-auditor_general_of_ontario_value_2021">
<p>Auditor General of Ontario. 2021. “Value for Money Audit: Land-Use Planning in the Greater Golden Horseshoe.” <a href="https://www.auditor.on.ca/en/content/annualreports/arreports/en21/AR_LandUse_en21.pdf" class="external-link">https://www.auditor.on.ca/en/content/annualreports/arreports/en21/AR_LandUse_en21.pdf</a>.</p>
</div>
<div id="ref-barboza_balancing_2021">
<p>Barboza, Matheus H. C., Mariana S. Carneiro, Claudio Falavigna, Gregório Luz, and Romulo Orrico. 2021. “Balancing Time: Using a New Accessibility Measure in Rio de Janeiro.” <em>Journal of Transport Geography</em> 90 (January): 102924. <a href="https://doi.org/10.1016/j.jtrangeo.2020.102924" class="external-link">https://doi.org/10.1016/j.jtrangeo.2020.102924</a>.</p>
</div>
<div id="ref-batista_estimation_2019">
<p>Batista, S. F. A., Ludovic Leclercq, and Nikolas Geroliminis. 2019. “Estimation of Regional Trip Length Distributions for the Calibration of the Aggregated Network Traffic Models.” <em>Transportation Research Part B: Methodological</em> 122 (April): 192–217. <a href="https://doi.org/10.1016/j.trb.2019.02.009" class="external-link">https://doi.org/10.1016/j.trb.2019.02.009</a>.</p>
</div>
<div id="ref-data_management_group_tts_2018">
<p>Data Management Group. 2018. “TTS - Transportation Tomorrow Survey 2016.” <a href="http://dmg.utoronto.ca/transportation-tomorrow-survey/tts-introduction" class="external-link">http://dmg.utoronto.ca/transportation-tomorrow-survey/tts-introduction</a>.</p>
</div>
<div id="ref-fitdistrplus_2015">
<p>Delignette-Muller, Marie Laure, and Christophe Dutang. 2015. “fitdistrplus: An R Package for Fitting Distributions.” <em>Journal of Statistical Software</em> 64 (4): 1–34. <a href="https://www.jstatsoft.org/article/view/v064i04" class="external-link">https://www.jstatsoft.org/article/view/v064i04</a>.</p>
</div>
<div id="ref-hansen_how_1959">
<p>Hansen, Walter G. 1959. “How Accessibility Shapes Land Use.” <em>Journal of the American Institute of Planners</em> 25 (2): 73–76. <a href="https://doi.org/10.1080/01944365908978307" class="external-link">https://doi.org/10.1080/01944365908978307</a>.</p>
</div>
<div id="ref-haynes_gravity_1985">
<p>Haynes, Kingsley E, and A Stewart Fotheringham. 1985. <em>Gravity and Spatial Interaction Models</em>. Reprint. WVU Research Repository. <a href="https://researchrepository.wvu.edu/cgi/viewcontent.cgi?article=1010&amp;context=rri-web-book" class="external-link">https://researchrepository.wvu.edu/cgi/viewcontent.cgi?article=1010&amp;context=rri-web-book</a>.</p>
</div>
<div id="ref-higgins2021changes">
<p>Higgins, Christopher D., Antonio Páez, Gyoorie Ki, and Jue Wang. 2021. “Changes in Accessibility to Emergency and Community Food Services During Covid-19 and Implications for Low Income Populations in Hamilton, Ontario.” Journal Article. <em>Social Science &amp; Medicine</em>, 114442. <a href="https://doi.org/10.1016/j.socscimed.2021.114442" class="external-link">https://doi.org/10.1016/j.socscimed.2021.114442</a>.</p>
</div>
<div id="ref-horbachov_theoretical_2018">
<p>Horbachov, Peter, and Stanislav Svichynskyi. 2018. “Theoretical Substantiation of Trip Length Distribution for Home-Based Work Trips in Urban Transit Systems.” <em>Journal of Transport and Land Use</em> 11 (1): 593–632. <a href="https://www.jstor.org/stable/26622420" class="external-link">https://www.jstor.org/stable/26622420</a>.</p>
</div>
<div id="ref-kuai_examining_2017">
<p>Kuai, Xuan, and Qunshan Zhao. 2017. “Examining Healthy Food Accessibility and Disparity in Baton Rouge, Louisiana.” <em>Annals of GIS</em> 23 (2): 103–16. <a href="https://doi.org/10.1080/19475683.2017.1304448" class="external-link">https://doi.org/10.1080/19475683.2017.1304448</a>.</p>
</div>
<div id="ref-Levine1998rethinking">
<p>Levine, J. 1998. “Rethinking Accessibility and Jobs-Housing Balance.” Journal Article. <em>Journal of the American Planning Association</em> 64 (2): 133–49. <a href="ISI:000073499600007">ISI:000073499600007</a>.</p>
</div>
<div id="ref-levinson_accessibility_1998">
<p>Levinson, David M. 1998. “Accessibility and the Journey to Work.” <em>Journal of Transport Geography</em> 6 (1): 11–21. <a href="https://doi.org/10.1016/S0966-6923(97)00036-7" class="external-link">https://doi.org/10.1016/S0966-6923(97)00036-7</a>.</p>
</div>
<div id="ref-ontario_built_2019">
<p>Ontario. 2019. “Built Boundary for the Growth Plan for the Greater Golden Horseshoe, 2006.” <em>Built Boundary Maps</em>. <a href="https://www.ontario.ca/document/built-boundary-growth-plan-greater-golden-horseshoe-2006/built-boundary-maps" class="external-link">https://www.ontario.ca/document/built-boundary-growth-plan-greater-golden-horseshoe-2006/built-boundary-maps</a>.</p>
</div>
<div id="ref-paez_jobs_2013">
<p>Páez, Antonio, Steven Farber, Ruben Mercado, Matthew Roorda, and Catherine Morency. 2013. “Jobs and the Single Parent: An Analysis of Accessibility to Employment in Toronto.” <em>Urban Geography</em> 34 (6): 815–42. <a href="https://doi.org/10.1080/02723638.2013.778600" class="external-link">https://doi.org/10.1080/02723638.2013.778600</a>.</p>
</div>
<div id="ref-Pereira2021r5r">
<p>Pereira, Rafael H. M., Marcus Saraiva, Daniel Herszenhut, Carlos Kaue Vieira Braga, and Matthew Wigginton Conway. 2021. “R5r: Rapid Realistic Routing on Multimodal Transport Networks with R<sup>5</sup> in R.” <em>Findings</em>, March. <a href="https://doi.org/10.32866/001c.21262" class="external-link">https://doi.org/10.32866/001c.21262</a>.</p>
</div>
<div id="ref-reggiani_accessibility_2011">
<p>Reggiani, Aura, Pietro Bucci, and Giovanni Russo. 2011. “Accessibility and Impedance Forms: Empirical Applications to the German Commuting Network.” <em>International Regional Science Review</em> 34 (2): 230–52. <a href="https://doi.org/10.1177/0160017610387296" class="external-link">https://doi.org/10.1177/0160017610387296</a>.</p>
</div>
<div id="ref-statistics_canada_daily_2022">
<p>Statistics Canada. 2022. “The Daily — Canada’s Large Urban Centres Continue to Grow and Spread.” <em>Government of Canada</em>. <a href="https://www150.statcan.gc.ca/n1/daily-quotidien/220209/dq220209b-eng.htm" class="external-link">https://www150.statcan.gc.ca/n1/daily-quotidien/220209/dq220209b-eng.htm</a>.</p>
</div>
<div id="ref-talen_assessing_1998">
<p>Talen, E, and L Anselin. 1998. “Assessing Spatial Equity: An Evaluation of Measures of Accessibility to Public Playgrounds.” <em>Environment and Planning A: Economy and Space</em> 30 (4): 595–613. <a href="https://doi.org/10.1068/a300595" class="external-link">https://doi.org/10.1068/a300595</a>.</p>
</div>
<div id="ref-wilson1971">
<p>Wilson, A G. 1971. “A Family of Spatial Interaction Models, and Associated Developments.” <em>Environment and Planning A: Economy and Space</em> 3 (1): 1–32. <a href="https://doi.org/10.1068/a030001" class="external-link">https://doi.org/10.1068/a030001</a>.</p>
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Anastasia Soukhov, Antonio Paez.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
